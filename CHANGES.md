# Updates

## G+DON-1101-20190427-01
Fix: 
* ユーザーのポップアップカードがマウスカーソルが外れたにもかかわらず残ってしまう場合があったのを修正。
* 新しい設定項目が正しく参照されない場合があったのを修正。
* 外部から呼び出した新規トゥート画面で、本文が正しくセットされなかったのを修正。
* ブースト解除できなくなっていたのを修正。
* 返信欄を開いたままスクロールして、別の操作をするとスクロールが戻ってしまうことがあるのを修正。
* 新規トゥート画面を開いたら本文にフォーカスを当てる機能が動いていなかったのを修正。
* お気に入りボタン、ブーストボタン周りのいくつかのバグを修正。

Update/New
* 拡張ブーストのフローティングボタンをクリックあるいはタップしたときのみ表示するよう変更。
* Androidでの共有機能に対応。（実験的実装です。テキストやリンク共有のみ、一部サイト・アプリからでは反応できないことを確認しています）



## G+DON-1100-20190420-01
Fix:
* リンク先の情報が文字化けしてしまうのを修正。
* 新規トゥート画面で画像添付ボタンが起動しなくなっていたのを修正。
* 新規トゥート画面で動画ファイルを添付した際にプレビュー画像が表示されなかったのを修正。
* 新規トゥート画面でクリップボードから貼り付けると文字のカウントがおかしくなるのを修正。
* 通知ページで別アカウントから別アカウントの通知に切り替えたとき、前のアカウントの情報が残っていたのを修正。
* アカウントページのタイムラインで投稿が自動で更新されなかったのを修正。
* すでにアカウントが存在する状態でGoogleドライブからアカウントを復元すると、次回読み込み時に正常にアカウントが読み込めなくなることがあるのを修正。
* ダイレクトメッセージ画面で自動でメッセージが更新されなかったのを修正。
* Googleドライブへの同期のタイミングがうまくいかない場合があったのを修正。
* その他細かなバグを修正。

Update/New
* 予約投稿に対応。
* アンケート機能の入力に対応。
* Googleドライブ（フォト）から直接メディアファイルの添付に対応。
* 新規トゥート画面にて位置情報取得時、ランドマーク取得の精度を向上。
* 通知ページのメンション（返信）を開くと、親のトゥートとその返信一覧を開くよう変更。
* 上記と合わせて、対象の返信を薄い黄色で強調表示するようにした。
* アカウント画面、設定画面でナビゲーションバーの更新ボタンを押すと、サーバー（インスタンス）の情報も再読込するようにした。
* 設定のアプリケーションタブのGoogleドライブ関連に「保存」「手動で同期する」を追加。


## G+DON-1015-20190407-02
Fix:
* モバイル端末時、新規投稿画面でPC用の新規ウィンドウで開くボタンが表示されていたのを修正。
* アーカイブビューア画面等でGooogleドライブのファイルピッカーを呼び出す際、再認証のタイミングまで初期の許可画面を表示しないよう修正。
* アーカイブビューア画面で、Google+の再共有の投稿が見られなくなっていたのを修正。
* タイムラインのトゥート間の隙間を縦横ともに一定になるよう修正。（よりGoogle+のストリームの再現度が高まるかも？）
* ユーザーページのフォロー・フォロワー一覧で、タブ切り替えして表示を繰り返すと表示されなくなるのを修正。
* ナビゲーションバーでアイコンを使ったユーザー名の表示が崩れしまうのを修正。
* 返信入力欄のメディア添付ボタンが機能していなかったのを修正。
* 返信・コメントの投稿日時が相対時間にならなかったのを修正。
* リンク先のプレビューが正しく取得できていない場合があったのを修正。
* アイコンや一部表示の微細な修正。

Update/New
* ローカルTLと連合TLの投稿でコメントやリンクプレビューを取得する際、認証情報を使わないようにした。（制限がさらにゆるくなり、両TLを活用しやすくなります）
* アカウント選択ダイアログで、現在のアカウントには先頭に色を付けるようにした。
* Pleromaインスタンスの利用ができることを確認。
* ブーストの拡張オプションを追加。
* 引用ブーストを追加。
* 別アカウントでブーストを追加。
* 返信時の@メンションをチェックボックスのON/OFFで付加・省略できるようにした。
* InstanceTickerに対応（weepjpさん作）


## G+DON-1014-20190328-01
Fix:
* ブラウザにより、投稿本文とコメントの本文のフォントが違う問題を修正中。（今後も続きます）

Update/New
* モバイル向けサイズ時、トゥートの右上の「…」ボタンを押したら詳細メニューが全画面で表示されるようにした。
* モバイル向けサイズ時、他のアカウントに通知が来たら左上の「三」ボタンも赤く点灯するようにした。
* CWがある投稿で入力ボックスから@メンションを指定した場合、文章上は@メンションを本文の先頭につけるように変更。
* poll(アンケート・投票機能）の表示に対応。（ただしマストドンサーバがver2.8.0以上、mstdn.jpは現行ですでに対応）
* 返信コメント欄の初期表示（最小表示）を仕様変更（各ボタン非表示、最下部に案内用のリンクを表示etc...）
* アーカイブビューア画面を追加。（G+Donに登録不要で、Google+の投稿データを閲覧できます）


## G+DON-1013-20190314-01
Fix:
* ハッシュタグページで、タブにフォーカスのスタイルが一部適用されていなかったのを修正。


Update/New
* 参照ライブラリやページの読み込み方法を修正。（レスポンス改善第3弾）


## G+DON-1012-20190309-01
Fix:
* 「メディアが添付されている時リンクをプレビューしない」がONの時、メディアがなくてもリンクがプレビューされなくなっていたのを修正。
* 閲覧注意を指定した新規投稿でメンション欄を使った場合、本当の閲覧注意の文章の中に@メンションが含まれてしまうのを修正。（本文の末尾に追記するよう変更しました）
* ユーザーページで、ピン留めトゥートが表示されなくなっていたのを修正。
* タイムラインの取得で、最下部の読み込みボタンを押しても正常に読み込まれなかったのを修正。


Update/New
* ローカルと連合タイムラインの取得の仕方を一部変更。（取得にかかる制限がゆるくなりました）
* どこかでひっくりかえったDON！


## G+DON-1011-20190304-01
Fix:
* ハッシュタグタイムラインのローカルで、ローカルの内容が表示されなかったのを修正。
* 通知ポップアップ内で見るトゥートのメディアが表示されなかったのをようやく修正。
* 通知画面でリンクのあるトゥートで、プレビューが表示されなかったのを修正。
* 一定の画面サイズだとブースト時のユーザー名の表示が消えてしまうのを修正。


Update/New
* タイムライン・ハッシュタグ画面の構造を見直し。（レスポンス改善第2弾）
* タイムラインのトゥート間の隙間を調整。
* リストタイムラインのリストの選択用のコンボボックスをナビゲーションバーに移動
* トゥート本文の文字や絵文字間の幅を調整。
* 設定→ユーザーアクションに、「次のマストドンサーバーからのメディアは閲覧注意を適用しない」オプションを追加。
　※対象となったトゥートはNSFWがかかっていても最初から解除されます。手動でかけ直すことも可能。


## G+DON-1010-20190301-01
Fix:
* 新規トゥートのお知らせがポップアップされた状態でアカウントを変えると、そのポップアップが表示されたままなのを修正。
* 検索画面のユーザー一覧から、ユーザーページにアクセスできなくなっていたのを修正。

Update/New


## G+DON-109-20190228-01
Fix:
* トゥートの特定の記号の連続で表示が崩れてしまうのを修正。
* デフォルトでは通知ポップアップでダイレクトメッセージが表示されないのを修正
　※設定→投稿と通知→「ダイレクトメッセージをタイムラインに含める」をONにすると今までも表示されました）

Update/New
* サーバ側で行っていたロケールファイルの読み出しタイミングを変更。
* クライアント側処理と動作速度の整備。（上記と合わせて気持ち程度レスポンス早くなるかも）
* わかりやすさのため、新規トゥート画面にCWのボタンを追加。（-cw-を直接入力することも引き続き可能です）


## G+DON-108-20190226-01
Fix:
* 通知画面や通知ポップアップ、その他画面の一部で何も表示されなくなってしまったのを修正。
* つながり画面でフォローリクエストが表示されなくなっていたのを修正。
* ユーザーのポップアップでボタンが外にはみ出てしまう場合があったのを修正。
* つながり画面だとユーザーの情報のノートが表示されなくなっていたのを修正。

Update/New
* 検索画面のURLを"/s?q=[検索キーワード]"に変更。
* 各トゥートのその他メニュー内にあるメンション・タグを各サーバーの本来のURLに変更。
* フォローリクエストの承諾・拒否ボタンをアイコンに変更。（ツールチップも出ます）
* ユーザーのポップアップ・情報カードの表示を調整。

## G+DON-107-20190225-01
Fix:

Update/New
* 「新しいトゥートがある時に知らせる（スクロールを抑制します）」オプションを、デフォルトで有効に変更。
　※このオプションによりスクロールしていると新しいトゥートの件数がTL上部にポップアップで表示されるようになります。
　※ただ、極稀にTLのトゥートの順番が狂う現象を確認しています。修正中ですがもし発生した場合は再度タブをクリックするかページを再読込するかしてください。
* 同オプションを表示しなくした。
* 隠しオプションだった「Nピクセルスクロールしたらスクロールを抑制し、新しいトゥートを知らせる」を表示。
* プロフィールの補足情報の拡張機能を廃止。（プロフィール編集画面も一部シンプルにしました）
* 補足情報の表示を新しくした。


## G+DON-106-20190223-02
Fix:
* 投稿にウェブサイトのリンクが含まれる場合、別ウィンドウにならなかったのを修正。
* 地図が小さいタブレットサイズ以下だと表示が崩れてしまうのを修正。
* URLによる地図表示機能を修正・整備。

Update/New


## G+DON-106-20190223-01
Fix:
* 機能上・表示上問題点があったため、XSS対策を強化。（皆さん早急に再読込してください）
* トップへスクロールした後タイムラインがたまにおかしくなるのを修正。
* タブレットサイズでタイムラインの簡易設定エリアからボタンがはみ出てしまうのを修正。
* 小さめのタブレット以下のサイズだと、アカウントページのサーバー追加欄が消えてしまうのを修正。


Update/New
* スタートページに言語の選択機能を追加。（Your language ?がそうです）
* フランス語、ドイツ語に仮対応。
* リンクのプレビューに関するオプションを設定ページの「投稿と通知」に追加。
* スタートページの表示を整理。
* 新規トゥート時のアカウント選択を、マストドンサーバーとしては最大1つまでの選択に仕様変更。
* GeoURIを廃止。各MapサービスのURLに切り替え。（位置情報設定・地図表示は変わりません）
* Markdownを廃止。（今後安全を踏まえつつ、マストドン標準でも違和感のない、同等の表現機能を模索します）
* ヘルプを「このアプリについて」のダイアログの中に移動。

## G+DON-105-20190219-01
Fix:
* ダイレクトメッセージ画面で入力欄が画面外にはみ出てしまっていたのを修正。
* タブレットサイズでタイムラインの簡易設定エリアからボタンがはみ出てしまうのを修正。
* アカウント、ユーザーページでスクロールを上位に戻して最新のトゥートを取得しようとするとエラーになってしまうのを修正。（ユーザーのトゥートは、一度遡ると最初の遡り時点以降の新しいトゥートを読み込むことができないことがわかりました）
* 新規トゥート画面の絵文字が挿入できなくなっていたのを修正。

Update/New
* トゥートの入力オプションに「-md-」を追加。（-md-以降の行がMarkdown記法に従って書式が変わります。）
* タブレットサイズの縦向きと横向きでタイムラインの表示幅を調整。
* 新規トゥート画面の絵文字パネルの高さを調整。

## G+DON-104-20190217-01
Fix:
* MacやiOSのSafariにおいて、アカウントやユーザーページなどでスクロールができなくなっていたのを修正。
* ブラウザへのデータ保存量が肥大化する恐れがあったのを修正。（マストドンサーバーの絵文字情報を保存しないようにした）
* ユーザーページのその他メニューのポップアップが環境によっては表示が崩れてしまうのを修正。
* 本アプリにアクセスした直後、マストドンサーバーの情報の取得タイミングが合わずにアカウントが正常に読み込まれない場合があるのを修正。
* Googleドライブへの同期後のアカウント管理ボタンが実際には機能していなかったのを修正。
* 時間検索をした後、スクロールを最上位に戻して最新を読み込むと、本当に現在時刻の最新を読み込んでしまうのを修正。（つまり、時間検索でさかのぼったら、さかのぼった後の時間の最新を読み込むようにした）
　※なお、Pawooなどの一定の古いバージョンではこの修正は適用されませんのでご注意ください。
* ローカルタイムラインを表示した後別のアカウントに切り替えると、別のアカウントでのタイムラインが連合になってしまうのを修正。

Update/New
* ナビゲーションバーの通知ボタンを、通知があったらベルアイコンをまるごと数値のボタンアイコンに変更。
* 時間検索に「簡易検索」を導入。従来の検索方法は「詳細検索」へ。
* フィルタ設定のエリアに新規投稿入力欄を設置。（クリックすると新規トゥート画面が開きます）
* マストドンサーバーの絵文字情報の取得タイミングを、新規トゥート画面表示直前に変更。

## G+DON-103-20190215-02
Fix:
* 新規トゥート画面のハッシュタグの欄でタグを指定すると、投稿後におかしな表示になってしまうのを修正。
* 新規トゥート画面を開くとたまに選択中のアカウントが重複してしまうのを修正。
* 通知ポップアップ内の「通知ページを開く」ボタンが機能していなかったのを修正。
* 通知ページで投稿に対する返信を開いた時、元の投稿に遡れなかったのを修正。
* 新規トゥート画面でメディアを読み込んでいる最中（またはエラー後）、同画面を閉じてまた開くとローディングアイコンが表示されっぱなしなのを修正。
* 返信コメント欄で、名前とユーザーIDの組み合わせが長い場合、右端の時間と重なってしまうのをギリギリの調整中。
* 未ログインで設定画面などに入り、このアプリについてを押すと開けなかったのを修正。
* タブレットのサイズにより、左のメニューを折りたたんだときのアイコン幅がずれるのを修正。
* タブレットのサイズにより、新規トゥート画面でアカウント欄からはみ出すのを隠すようにした。（良い表示方法を模索中）

Update/New
* 時間検索で、時間を指定しなくても実行できるよう変更。
* 新規トゥート画面で未変更の場合は確認なしで閉じられるよう変更。
* スマートフォン以下のモバイル環境では、トゥートの返信ボタンを押したら全画面化し、返信入力欄が最初から開くよう仕様を変更。（タブレット以上の環境では今までどおりです）
* バージョン番号に日付のリビジョンを追記。



## G+DON-102-20190214-01
Fix:

Update/New
* 画面上部の検索ボックスから「#○○」でハッシュタグタイムライン画面に一気に飛べるようにした。
* タイムライン・アカウント・ユーザーページに時間検索を追加。（青いカレンダーのようなボタンです）
→ホーム・リストは2日前まで、それ以外は1年前まで確認しています。それ以上遡れる可能性もあります。

## G+DON-102-20190211-02
Fix:
* 通知や直接リンクから飛ぶユーザーページが正常に見られない場合があるのを修正。
* 通知や直接リンクから飛ぶユーザーの単体のトゥートが正常に見られない場合があるのを修正。

Update/New


## G+DON-102-20190211-01
Fix:
* メニューからダイレクトメッセージが消えていたのを修正。
* 新規トゥート画面で新しいウィンドウで開くボタンを押した時に内容が正しく引き継がれなかったのを修正。

Update/New
* 新規トゥート画面のURLパラメータにtextとtagsを追加。
　→別サイトでリンクを貼ることで本アプリを介して好きな内容をあらゆるマストドンサーバーに投稿できるようになります。
* マストドンサーバーに関するすべてのURLをinstancesからserverに変更。
　→万が一/instancesで別サイト等にリンクを貼り付けている方は/serverに変更してください。


## G+DON-101-20190210-02
Fix:
* ## G+DONへのアカウントの接続時に、本アプリのURLを登録するのを忘れていたのを修正。
　→通常使用には全く影響ありません。トゥートの投稿元アプリの表示が気になる方のみ、アカウントの接続削除～再接続を行ってください。
* つながりページでおすすめユーザーが表示されなかったのを修正。

Update/New
* iOS端末のみ、新規トゥート画面で本文に初期フォーカスが当たらないよう変更。（拡大してしまい送信ボタンが隠れて紛らわしいので）
* 新規トゥート入力欄の文字サイズとエリアを若干拡大。



## G+DON-101-20190209-04
Fix:
* コメントの詳細メニューに「本文のコピー」がなかったので追加。
* トゥートへの返信で、現在のアカウントが反映されずに返信やメディアの添付ができなくなっていたのを修正。
* トゥートが右の列にいったら、コメントの詳細メニューが画面外に行って見えなくなるのを修正。
* スタートページのOGPがたまに古いセッションの情報が残ってしまうのを修正。
* 新規トゥート画面で、位置情報の地図を表示してから投稿画面を閉じると、また開いたときに地図が表示されたままだったのを修正。

Update/New


## G+DON-101-20190209-03
Fix:
* 本文のコピー時、リンクが途切れてしまうを修正。
* ## G+DONのユーザーページのリンクを貼り付けた場合、リンク先のプレビューが正しく表示されないのを修正。
* 新規トゥート画面の一部レイアウトを微調整。


Update/New
* ユーザーページのOGP情報を調整中。（今後も続きます）
　（未ログインの人でもアクセスはできるので、OGPを気にしなければ全く影響ありません）


## G+DON-101-20190209-01
Fix:
* Firefoxにおいて、コンテンツデータ破損エラーが出てしまう問題を修正。（先行して修正済み）
* リダイレクトのページが壊れていたのを修正。（先行して修正済み）
* アカウントの新規接続時に"hoge@mstdn.jp"というように誤ってユーザー名まで入力しても、正しく進められるよう修正。
* 新規トゥート時、メディアをアップロードした後にアカウントを選択し直すとメディア正しくが反映されなかったのを修正。
* アカウントやユーザーページで画面下にあるトゥートの読み込みボタン時、正常に読み込まれないのを修正。
* アカウントページとユーザーページでアバター画像の形が違っていたので統一。
* アカウントのプロフィール編集ダイアログで、補足情報の欄でHTMLがそのまま表示されてしまうのを修正。

Update/New
* "インスタンス" を "マストドンサーバー" および"サーバー"に名称変更。
* 返信時に入力欄外にメインのメンション相手を表記するようにした。
* トゥートの詳細やユーザーページに、"このユーザーのマストドンサーバーを表示"メニューを追加。（サーバーの情報のページに行けます）
* 未ログインの場合の特定マストドンサーバー（pawoo.netやfriends.nicoなど）のデータも仮で取得できるよう調整。
* トゥートの詳細に"本文のコピー"メニューを追加。
* アカウントページの右側に、「告知可能なURLをコピー」ボタンを設置。

## G+DON-100-20190207-01

Fix:
・ローカル、連合タイムラインのストリームが動かなくなっていたのを修正。
・トゥート本文中のハッシュタグのURLの/が一本多かったのを修正。
・通知ポップアップのトゥートの表示がタイムラインのものと微妙に違う表示になるのを修正。（メディア以外）
・トゥートの返信欄の文字数や返信ボタンの位置が崩れるのを修正。

Update/New
・通知ポップアップで見るトゥートの初期表示の返信欄を隠すようにした。
・トゥートの詳細ペインで、現在のインスタンスでのオリジナルトゥートの表示、オリジナルの投稿時間・言語・投稿元アプリの表示欄を追加。
・ユーザーのページは## G+DON未ログインでも見られるようにした。
・ユーザーページのOGPをユーザーの情報で反映されるようにした。
・インスタンスが異なる場合、ユーザーのページで公式に近い注意文を表示するようにした。
・言語の設定周りを整備（近い次バージョンで言語の選択オプションを追加予定）

